{"mappings":"AAKA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,mBACnCC,kBAAmBF,SAASC,cAAc,0BAC1CE,YAAaH,SAASC,cAAc,8BAEhCG,EAAiB,ICVR,MAMbC,gBACE,MAKMC,EAAM,uCAAuCC,KAAKC,2CAA2CD,KAAKE,OAExG,OAAOC,MAAMJ,EAPG,CACdK,QAAS,CACPC,cAAe,sCAMhBC,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJT,KAAKU,gBAEED,EAAKE,W,CAIlBD,gBACEV,KAAKE,MAAQ,C,CAGfU,YACEZ,KAAKE,KAAO,C,CAGVW,YACF,OAAOb,KAAKC,W,CAGVY,UAAMC,GACRd,KAAKC,YAAca,C,CAnCrBC,cACEf,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDShBX,EAAKC,WAAWwB,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFrB,EAAegB,MAAQI,EAAEE,cAAcC,SAASP,MAAMQ,MACtDxB,EAAee,YACff,EAAeC,gBAAgBQ,MAAKK,GAClCA,EACGW,KACC,EAACvB,IAAEA,EAAGwB,WAAEA,EAAUC,MAAEA,EAAKC,OAAEA,EAAMC,YAAEA,KAAkB,4BAC1C3B,mGAESwB,+CACNC,yCACUC,6BACXC,6DAKdC,KAAK,K,IArBZpC,EAAKK,YAAYoB,iBAAiB,SAyBlC,WACEnB,EAAeC,gBAAgBQ,M","sources":["src/js/03-pagination.js","src/js/news-service.js"],"sourcesContent":["import '../css/common.css';\n// import moduleName from './components/load-more-btn';\n\nimport NewsApiService from './news-service';\n\nconst refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  articlesContainer: document.querySelector('.js-articles-container'),\n  loadMoreBtn: document.querySelector('[data-action=\"load-more\"]'),\n};\nconst newsApiService = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiService.query = e.currentTarget.elements.query.value;\n  newsApiService.resetPage();\n  newsApiService.fetchArticles().then(articles =>\n    articles\n      .map(\n        ({ url, urlToImage, title, author, description }) => `  <li>\n        <a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <article>\n                <img src=\"${urlToImage}\" alt=\"\" width=\"480\">\n                <h2>${title}</h2>\n                <p>Postet by: ${author}</p>\n                <p>${description}</p>\n            </article>\n        </a>\n      </li>`\n      )\n      .join('')\n  );\n}\n\nfunction onLoadMore() {\n  newsApiService.fetchArticles().then();\n}\n\n// refs.articlesContainer.insertAdjacentHTML('beforeend');\n","export default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const options = {\n      headers: {\n        Authorization: 'fd4551f039144e50830dcd0945213250',\n      },\n    };\n    const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;\n\n    return fetch(url, options)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n\n        return data.articles;\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$6d346df0b539e7b3$var$refs","searchForm","document","querySelector","articlesContainer","loadMoreBtn","$6d346df0b539e7b3$var$newsApiService","fetchArticles","url","this","searchQuery","page","fetch","headers","Authorization","then","r","json","data","incrementPage","articles","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value","map","urlToImage","title","author","description","join"],"version":3,"file":"03-pagination.d7deea2b.js.map"}